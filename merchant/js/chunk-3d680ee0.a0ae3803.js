(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d680ee0"],{"0b16":function(t,e,a){"use strict";var i=a("1985"),s=a("35e8");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=w,e.resolve=k,e.resolveObject=x,e.format=D,e.Url=o;var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(c),d=["'"].concat(h),u=["%","/","?",";","#"].concat(d),f=["/","?","#"],m=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=a("b383");function w(t,e,a){if(t&&s.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,a),i}function D(t){return s.isString(t)&&(t=w(t)),t instanceof o?t.format():o.prototype.format.call(t)}function k(t,e){return w(t,!1,!0).resolve(e)}function x(t,e){return t?w(t,!1,!0).resolveObject(e):e}o.prototype.parse=function(t,e,a){if(!s.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),n=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(n),h=/\\/g;c[0]=c[0].replace(h,"/"),t=c.join(n);var w=t;if(w=w.trim(),!a&&1===t.split("#").length){var D=l.exec(w);if(D)return this.path=w,this.href=w,this.pathname=D[1],D[2]?(this.search=D[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var k=r.exec(w);if(k){k=k[0];var x=k.toLowerCase();this.protocol=x,w=w.substr(k.length)}if(a||k||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===w.substr(0,2);!C||k&&_[k]||(w=w.substr(2),this.slashes=!0)}if(!_[k]&&(C||k&&!b[k])){for(var j,$,O=-1,S=0;S<f.length;S++){var A=w.indexOf(f[S]);-1!==A&&(-1===O||A<O)&&(O=A)}$=-1===O?w.lastIndexOf("@"):w.lastIndexOf("@",O),-1!==$&&(j=w.slice(0,$),w=w.slice($+1),this.auth=decodeURIComponent(j)),O=-1;for(S=0;S<u.length;S++){A=w.indexOf(u[S]);-1!==A&&(-1===O||A<O)&&(O=A)}-1===O&&(O=w.length),this.host=w.slice(0,O),w=w.slice(O),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var L=this.hostname.split(/\./),q=(S=0,L.length);S<q;S++){var U=L[S];if(U&&!U.match(p)){for(var T="",R=0,E=U.length;R<E;R++)U.charCodeAt(R)>127?T+="x":T+=U[R];if(!T.match(p)){var M=L.slice(0,S),z=L.slice(S+1),F=U.match(g);F&&(M.push(F[1]),z.unshift(F[2])),z.length&&(w="/"+z.join(".")+w),this.hostname=M.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var N=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+N,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!v[x])for(S=0,q=d.length;S<q;S++){var P=d[S];if(-1!==w.indexOf(P)){var V=encodeURIComponent(P);V===P&&(V=escape(P)),w=w.split(P).join(V)}}var H=w.indexOf("#");-1!==H&&(this.hash=w.substr(H),w=w.slice(0,H));var G=w.indexOf("?");if(-1!==G?(this.search=w.substr(G),this.query=w.substr(G+1),e&&(this.query=y.parse(this.query)),w=w.slice(0,G)):e&&(this.search="",this.query={}),w&&(this.pathname=w),b[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var J=this.search||"";this.path=N+J}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",a=this.pathname||"",i=this.hash||"",o=!1,r="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(r=y.stringify(this.query));var n=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||b[e])&&!1!==o?(o="//"+(o||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),n&&"?"!==n.charAt(0)&&(n="?"+n),a=a.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),n=n.replace("#","%23"),e+o+a+n+i},o.prototype.resolve=function(t){return this.resolveObject(w(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(s.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var a=new o,i=Object.keys(this),r=0;r<i.length;r++){var n=i[r];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),c=0;c<l.length;c++){var h=l[c];"protocol"!==h&&(a[h]=t[h])}return b[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!b[t.protocol]){for(var d=Object.keys(t),u=0;u<d.length;u++){var f=d[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||_[t.protocol])a.pathname=t.pathname;else{var m=(t.pathname||"").split("/");while(m.length&&!(t.host=m.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var p=a.pathname||"",g=a.search||"";a.path=p+g}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var v=a.pathname&&"/"===a.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=y||v||a.host&&t.pathname,D=w,k=a.pathname&&a.pathname.split("/")||[],x=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!b[a.protocol]);if(x&&(a.hostname="",a.port=null,a.host&&(""===k[0]?k[0]=a.host:k.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),w=w&&(""===m[0]||""===k[0])),y)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,k=m;else if(m.length)k||(k=[]),k.pop(),k=k.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(x){a.hostname=a.host=k.shift();var C=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@");C&&(a.auth=C.shift(),a.host=a.hostname=C.shift())}return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!k.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var j=k.slice(-1)[0],$=(a.host||t.host||k.length>1)&&("."===j||".."===j)||""===j,O=0,S=k.length;S>=0;S--)j=k[S],"."===j?k.splice(S,1):".."===j?(k.splice(S,1),O++):O&&(k.splice(S,1),O--);if(!w&&!D)for(;O--;O)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),$&&"/"!==k.join("/").substr(-1)&&k.push("");var A=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(x){a.hostname=a.host=A?"":k.length?k.shift():"";C=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@");C&&(a.auth=C.shift(),a.host=a.hostname=C.shift())}return w=w||a.host&&k.length,w&&!A&&k.unshift(""),k.length?a.pathname=k.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},o.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},1985:function(t,e,a){(function(t,i){var s;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(o){e&&e.nodeType,t&&t.nodeType;var r="object"==typeof i&&i;r.global!==r&&r.window!==r&&r.self;var n,l=2147483647,c=36,h=1,d=26,u=38,f=700,m=72,p=128,g="-",v=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-h,D=Math.floor,k=String.fromCharCode;function x(t){throw new RangeError(y[t])}function C(t,e){var a=t.length,i=[];while(a--)i[a]=e(t[a]);return i}function j(t,e){var a=t.split("@"),i="";a.length>1&&(i=a[0]+"@",t=a[1]),t=t.replace(b,".");var s=t.split("."),o=C(s,e).join(".");return i+o}function $(t){var e,a,i=[],s=0,o=t.length;while(s<o)e=t.charCodeAt(s++),e>=55296&&e<=56319&&s<o?(a=t.charCodeAt(s++),56320==(64512&a)?i.push(((1023&e)<<10)+(1023&a)+65536):(i.push(e),s--)):i.push(e);return i}function O(t){return C(t,(function(t){var e="";return t>65535&&(t-=65536,e+=k(t>>>10&1023|55296),t=56320|1023&t),e+=k(t),e})).join("")}function S(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,a){var i=0;for(t=a?D(t/f):t>>1,t+=D(t/e);t>w*d>>1;i+=c)t=D(t/w);return D(i+(w+1)*t/(t+u))}function L(t){var e,a,i,s,o,r,n,u,f,v,_=[],b=t.length,y=0,w=p,k=m;for(a=t.lastIndexOf(g),a<0&&(a=0),i=0;i<a;++i)t.charCodeAt(i)>=128&&x("not-basic"),_.push(t.charCodeAt(i));for(s=a>0?a+1:0;s<b;){for(o=y,r=1,n=c;;n+=c){if(s>=b&&x("invalid-input"),u=S(t.charCodeAt(s++)),(u>=c||u>D((l-y)/r))&&x("overflow"),y+=u*r,f=n<=k?h:n>=k+d?d:n-k,u<f)break;v=c-f,r>D(l/v)&&x("overflow"),r*=v}e=_.length+1,k=I(y-o,e,0==o),D(y/e)>l-w&&x("overflow"),w+=D(y/e),y%=e,_.splice(y++,0,w)}return O(_)}function q(t){var e,a,i,s,o,r,n,u,f,v,_,b,y,w,C,j=[];for(t=$(t),b=t.length,e=p,a=0,o=m,r=0;r<b;++r)_=t[r],_<128&&j.push(k(_));i=s=j.length,s&&j.push(g);while(i<b){for(n=l,r=0;r<b;++r)_=t[r],_>=e&&_<n&&(n=_);for(y=i+1,n-e>D((l-a)/y)&&x("overflow"),a+=(n-e)*y,e=n,r=0;r<b;++r)if(_=t[r],_<e&&++a>l&&x("overflow"),_==e){for(u=a,f=c;;f+=c){if(v=f<=o?h:f>=o+d?d:f-o,u<v)break;C=u-v,w=c-v,j.push(k(A(v+C%w,0))),u=D(C/w)}j.push(k(A(u,0))),o=I(a,y,i==s),a=0,++i}++a,++e}return j.join("")}function U(t){return j(t,(function(t){return v.test(t)?L(t.slice(4).toLowerCase()):t}))}function T(t){return j(t,(function(t){return _.test(t)?"xn--"+q(t):t}))}n={version:"1.4.1",ucs2:{decode:$,encode:O},decode:L,encode:q,toASCII:T,toUnicode:U},s=function(){return n}.call(e,a,e,t),void 0===s||(t.exports=s)})()}).call(this,a("62e4")(t),a("c8ba"))},"21be":function(t,e,a){},3102:function(t,e,a){"use strict";var i=a("a1e9"),s=a.n(i);s.a},"35e8":function(t,e,a){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},5755:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail"}},[a("updateGoods")],1)},s=[],o=function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{attrs:{id:"create"}},[i("div",{staticClass:"create_header"},[i("div",{staticClass:"back",on:{click:e.handleBack}},[i("i",{staticClass:"iconfont icon-huitui"}),i("p",{staticClass:"header_info"},[e._v("返回")])]),i("div",{staticClass:"header_title"},[e._v("收款单")])]),i("div",{staticClass:"createFrom"},[i("mt-field",{attrs:{label:"名称",placeholder:"请输入名称",state:e.formData.product_name?"":e.error,type:"text"},model:{value:e.formData.product_name,callback:function(t){e.$set(e.formData,"product_name",t)},expression:"formData.product_name"}}),i("mt-field",{attrs:{label:"单价",placeholder:"0.00",state:e.formData.price?"":e.error,type:"number"},on:{change:function(t){return e.changemoney(e.formData)}},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}}),i("a",{staticClass:"mint-cell mint-field",attrs:{"data-v-4a389152":""}},[i("div",{staticClass:"mint-cell-left"}),i("div",{staticClass:"mint-cell-wrapper",staticStyle:{"background-origin":"content-box"}},[e._m(0),i("div",{staticClass:"mint-cell-value"},[i("el-input-number",{attrs:{min:1,max:99,label:"描述文字",precision:"0",size:"mini",disabled:e.formData.num_flag},on:{change:function(t){return e.changemoney(e.formData)}},model:{value:e.formData.num,callback:function(t){e.$set(e.formData,"num",t)},expression:"formData.num"}}),e._m(1),i("div",{staticClass:"mint-field-other"})],1)]),i("div",{staticClass:"mint-cell-right"})]),i("mt-field",{attrs:{label:"折扣",disabled:e.formData.num_flag,placeholder:"0.0折",state:e.formData.discount?"":e.num_error,type:"number"},on:{input:function(t){return e.changemoney(e.formData)}},model:{value:e.formData.discount,callback:function(t){e.$set(e.formData,"discount",t)},expression:"formData.discount"}}),i("mt-field",{attrs:{label:"总价",placeholder:"0.00",type:"text",disabled:""},on:{input:function(t){return e.changemoney(e.formData)}},model:{value:e.formData.total,callback:function(t){e.$set(e.formData,"total",t)},expression:"formData.total"}}),i("mt-field",{attrs:{label:"运费",placeholder:"请输入运费",type:"number"},model:{value:e.formData.fare,callback:function(t){e.$set(e.formData,"fare",t)},expression:"formData.fare"}}),i("mt-checklist",{attrs:{align:"right",options:e.option},on:{change:function(t){return e.saveData(e.formData)}},model:{value:e.formData.num_flag,callback:function(t){e.$set(e.formData,"num_flag",t)},expression:"formData.num_flag"}}),i("mt-field",{attrs:{label:"描述",placeholder:"请输入描述",state:e.formData.introduction?"":e.error,type:"textarea",rows:"2"},model:{value:e.formData.introduction,callback:function(t){e.$set(e.formData,"introduction",t)},expression:"formData.introduction"}}),i("el-dialog",{attrs:{title:"请选择",visible:e.dialogVisible,width:"80%","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-dialog",{attrs:{width:"80%",title:"新增",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.addtext,callback:function(t){e.addtext=t},expression:"addtext"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:e.handleAdd},slot:"append"})],1)],1),i("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.getlist},model:{value:e.category_id,callback:function(t){e.category_id=t},expression:"category_id"}},[e._l(e.categorylist,(function(t){return i("el-option",{key:t.category_id,attrs:{label:t.category_name,value:t.category_id}})})),i("el-option",{attrs:{value:"新增"}},[e._v(" 新增收款标签 ")])],2),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1),e.isShow?i("div",{staticClass:"weui-gallery",staticStyle:{display:"block"}},[i("span",{staticClass:"weui-gallery__img",style:"background-image: url("+e.src+");",on:{click:function(){t.isShow=!1}}}),i("div",{staticClass:"weui-gallery__opr",on:{click:e.handleDel}},[e._m(2)])]):e._e(),i("div",{staticClass:"weui-cell  weui-cell_uploader",staticStyle:{background:"#fff"}},[i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui-uploader"},[i("div",{staticClass:"weui-uploader__hd"},[i("p",{staticClass:"weui-uploader__title"},[e._v("配图"),i("i",{staticClass:"iconfont icon-weibiaoti2",staticStyle:{fontSize:".25rem",position:"relative",bottom:"-0.06rem"},on:{click:e.handleTips}})]),i("div",{staticClass:"weui-uploader__info"},[e._v(e._s(e.formData.image.length)+"/9")])]),i("div",{staticClass:"weui-uploader__bd"},[e.formData.image.length?i("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderFiles"}},e._l(e.images,(function(t,a){return i("li",{key:a,staticClass:"weui-uploader__file",on:{click:function(i){return e.handleShow(t,a)}}},[i("img",{staticStyle:{width:"100%",height:"100%","object-fit":"cover",padding:"5%","box-sizing":"border-box"},attrs:{src:t}})])})),0):e._e(),e.showAdd?i("div",{staticClass:"weui-uploader__input-box"},[i("div",{staticStyle:{width:"100%",height:"100%"},on:{click:function(t){return e.chooseImage(e.upload)}}})]):e._e()])])])]),i("div",{staticClass:"weui-form__control-area"},[i("div",{staticClass:"weui-cells__group weui-cells__group_form"},[i("div",{staticClass:"weui-cells weui-cells_checkbox",staticStyle:{marginTop:"0"}},[i("label",{staticClass:"weui-cell weui-cell_active weui-check__label",attrs:{for:"s11"}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.address_flag,expression:"formData.address_flag"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"checkbox1",id:"s11"},domProps:{checked:Array.isArray(e.formData.address_flag)?e._i(e.formData.address_flag,null)>-1:e.formData.address_flag},on:{change:function(t){var a=e.formData.address_flag,i=t.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=e._i(a,o);i.checked?r<0&&e.$set(e.formData,"address_flag",a.concat([o])):r>-1&&e.$set(e.formData,"address_flag",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"address_flag",s)}}}),i("i",{staticClass:"weui-icon-checked"})]),i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v("需真实发货"),e.formData.address_flag?i("span",[e._v("(勾选后买家需要填写收货地址)")]):e._e()])])])])])])],1),i("div",{staticClass:"wallet_footer"},[i("div",{staticClass:"footer_left footer_info",on:{click:e.handlePhoto}},[e._v("生成海报")]),i("div",{staticClass:"footer_right footer_info",on:{click:e.handleSave}},[e._v("保存收款单")])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mint-cell-title"},[a("span",{staticClass:"mint-cell-text",staticStyle:{marginRight:".05rem"}},[t._v("数量")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mint-field-clear",staticStyle:{display:"none"}},[a("i",{staticClass:"mintui mintui-field-error"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"weui-gallery__del",attrs:{href:"javascript:"}},[a("i",{staticClass:"weui-icon-delete weui-icon_gallery-delete"})])}],n=(a("c975"),a("a434"),a("b680"),a("d3b7"),a("ac1f"),a("3ca3"),a("466d"),a("5319"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d"),a("2909")),l=a("365c"),c=(a("0b16"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"class"}},[a("div",{staticClass:"create_header"},[a("div",{staticClass:"back",on:{click:t.handleBack}},[a("i",{staticClass:"iconfont icon-huitui"}),a("p",{staticClass:"header_info"},[t._v("返回")])]),a("div",{staticClass:"header_title"},[t._v("货架")]),a("div",{staticStyle:{"padding-right":".08rem","font-size":".3rem",color:"rgb(238,120,0)","font-weight":"300"},on:{click:t.handleAddGoods}},[t._v("+")])]),a("div",{staticClass:"main"},[a("div",{ref:"wrapper",staticClass:"wrapper"},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.cateloadMore,expression:"cateloadMore"}],staticClass:"content",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},[t._l(t.categoryList,(function(e,i){return a("li",{key:e.category_id,class:i===t.active?"active":"",staticStyle:{fontSize:".14rem"},on:{click:function(a){return t.listClick(i,e)}}},[t._v(t._s(e.category_name))])})),a("li",{staticStyle:{fontSize:".14rem",color:"#ccc",lineHeight:".4rem","text-align":"center"},on:{click:t.handleAddCategory}},[a("span",{staticStyle:{fontSize:".3rem","font-weight":"300","line-height":".35rem",color:"rgb(238,120,0)","padding-right":".2rem"}},[t._v("+")])])],2)]),a("div",{staticClass:"detailList_box"},[a("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadMore,"auto-fill":!1}},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"detailList",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},[a("li",{staticClass:"detail_title"},[a("h4",{staticStyle:{fontSize:".14rem",color:"#333"}},[t._v(t._s(t.detailtext))])]),t._l(t.detailList,(function(e,i){return a("li",{key:i,staticClass:"detail_item",on:{click:function(a){return t.handleDetail(e,"修改")}}},[a("mt-cell-swipe",{attrs:{right:t.rightDelete(e,i)}},[a("div",{staticClass:"item_wrap",attrs:{slot:"icon"},slot:"icon"},[a("div",{staticClass:"item_image"},[a("img",{attrs:{src:e.image[0],alt:""}})]),a("div",{staticClass:"item_info",staticStyle:{fontSize:".14rem"}},[a("p",{staticClass:"info_title",staticStyle:{fontWeight:"600",textAlign:"left",paddingLeft:".05rem"}},[t._v(t._s(e.product_name))]),a("p",{staticStyle:{textAlign:"left",paddingLeft:".05rem"}},[a("span",{staticStyle:{color:"red",fontSize:".12rem"}},[t._v("￥")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.price))])])])])])],1)}))],2),a("p",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"})])],1)])])}),h=[],d=(a("1fba"),a("76a0")),u={data:function(){return{title:"下架",currentId:1,categoryList:[],detailList:[],active:this.$store.state.active,page:1,limit:10,detailtext:"",backTopShow:!0,loading:!1}},methods:{listClick:function(t,e){var a=this;d["Indicator"].open({text:"加载中...",spinnerType:"fading-circle"}),this.page=1,this.active!==t&&(document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop=0),this.$store.state.active=t,this.currentId=e.category_id,Object(l["p"])({page:this.page,limit:this.limit,category_id:e.category_id}).then((function(t){a.detailList=t.data.data,d["Indicator"].close()})),this.active=t,this.detailtext=e.category_name},rightDelete:function(t,e){var a=this;return[{content:this.title,style:{background:"#6fba2c",color:"#fff",lineHeight:".8rem"},handler:function(){return a.pullAndUp(t,e)}},{content:"删除",style:{background:"red",color:"#fff",lineHeight:".8rem"},handler:function(){return a.handleDel(t,e)}}]},pullAndUp:function(t,e){var a=this;"下架"===this.title?Object(l["v"])({product_id:t.product_id}).then((function(t){console.log("下架",t.data),a.title="上架"})):Object(l["u"])({product_id:t.product_id}).then((function(t){console.log("上架",t.data),a.title="下架"}))},handleDetail:function(t,e){this.$router.push({name:"createGoods",params:{item:t,val:e,image:t.image}})},handlePhoto:function(t){this.$router.push({name:"createqr",params:{item:t}})},handleAddCategory:function(){this.$router.push({name:"createCategory",params:{categoryList:this.categoryList}})},handleAddGoods:function(){this.$router.push({name:"createGoods",params:{list:this.categoryList,val:"新增"}})},handleDel:function(t,e){var a=this;d["MessageBox"].confirm("确定删除此收款单?").then((function(i){var s=[];s.push(t.product_id),Object(l["i"])(s).then((function(t){console.log(t),1===t.data.success?a.$toast("删除收款单成功"):a.$toast("删除失败")})),a.detailList.splice(e,1)}))},handleBack:function(){this.$store.state.showTab=!0,this.$router.push("/")},backtoTop:function(){document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop=0},loadMore:function(){var t=this;Object(l["o"])().then((function(e){1===e.data.success?(t.categoryList=e.data.data,t.detailtext=e.data.data[t.$store.state.active].category_name,Object(l["p"])({page:t.page,limit:t.limit,category_id:currentId}).then((function(e){t.detailList=e.data.data,t.page++}))):console.log("获取分类失败")}))},cateloadMore:function(){console.log("1111")}},beforeCreate:function(){},beforeMount:function(){this.$store.state.showTab=!1},mounted:function(){var t=this;d["Indicator"].open({text:"加载中...",spinnerType:"fading-circle"}),Object(l["o"])().then((function(e){d["Indicator"].close(),1===e.data.success?(t.categoryList=e.data.data,t.detailtext=e.data.data[t.$store.state.active].category_name,t.currentId=e.data.data[t.$store.state.active].category_id,console.log(t.$store.state.active,t.active),Object(l["p"])({page:t.page,limit:t.limit,category_id:e.data.data[t.$store.state.active].category_id}).then((function(e){t.detailList=e.data.data,t.page++}))):t.$toast("获取标签失败")})).catch((function(e){d["Indicator"].close(),t.$toast("无数据")}))},destroyed:function(){d["Indicator"].close()}},f=u,m=(a("3102"),a("2877")),p=Object(m["a"])(f,c,h,!1,null,"60045150",null),g=(p.exports,a("8f32")),v=a("5dd4"),_=a.n(v),b={components:{H5Cropper:_.a},data:function(){return{value:!1,addtext:"",isShow:!1,showAdd:!0,dialogVisible:!1,innerVisible:!1,change:"0",error:"",num_error:"",limit:0,index:-1,src:"",address_flag:"",num_flag:"",option:["买家选择数量(不勾选此项由卖家选数量)"],images:[],category_id:"",categorylist:[],formData:{product_name:"",price:"",num:1,address_flag:!1,introduction:"",image:[],num_flag:!1,total:0,discount:10,fare:0}}},watch:{category_id:function(t,e){"新增"===t&&(this.innerVisible=!0)}},beforeMount:function(){this.$store.state.showTab=!1,"新增"===this.$route.params.val&&(this.formData=this.$store.state.formData)},mounted:function(){var t=this,e=location.href.split("#")[0];console.log("url---:",e),Object(l["j"])({url:e}).then((function(t){var e=t.data.data.config;Object(g["a"])(e)}));document.querySelector(".mint-checkbox-core"),document.querySelector(".mint-checkbox"),document.querySelector(".mint-checklist");var a=document.querySelector(".mint-checklist-title");a.parentNode.removeChild(a);var i=document.querySelectorAll(".mint-cell-wrapper");i[2].style.backgroundOrigin="content-box";var s=document.querySelectorAll(".mint-cell-title");console.log(s);for(var o=function(t){var e=document.createElement("i");if(e.className="iconfont icon-weibiaoti2",e.style.fontSize=".25rem",e.style.position="absolute",e.style.bottom="-0.08rem",6!==t){e.onclick=function(){switch(t){case 0:d["MessageBox"].alert("收款单名称(必填项)","提示");break;case 1:d["MessageBox"].alert("收款单价(必填项)","提示");break;case 2:d["MessageBox"].alert("收款数量(选填),选中买家选择按钮此项禁用","提示");break;case 3:d["MessageBox"].alert("折扣(选填),输入格式为x.x,例:8.8","提示");break;case 4:d["MessageBox"].alert("总价(数量*总价)","提示");break;case 5:d["MessageBox"].alert("运费(最低为0)","提示");break;case 7:d["MessageBox"].alert("收款描述(必填项)","提示");break}};var a=document.createElement("span"),i=document.createElement("span"),o=document.createTextNode("*");if(i.appendChild(o),a.appendChild(i),a.appendChild(e),a.children[0].style.color="red",a.style.position="relative",1==t||4==t||5==t){var r=document.createElement("span"),n=document.createTextNode("￥");r.appendChild(n),r.style.float="right",r.style.lineHeight=".25rem",s[t].appendChild(r)}s[t].appendChild(a)}else s[t].children[0].style.padding=0,s[t].children[0].children[1].style.margin=0},r=0;r<s.length;r++)o(r);if(Object(l["o"])().then((function(e){t.categorylist=e.data.data,t.category_id=t.categorylist[0].category_id})),this.$route.params.item)if(d["Indicator"].close(),this.formData=this.$route.params.item,this.category_id=this.formData.category_id,this.images=Object(n["a"])(this.$route.params.image),"修改"===this.$route.params.val){switch(this.$route.params.item.address_flag){case"0":this.formData.address_flag=!1;break;case"1":this.formData.address_flag=!0;break}switch(this.$route.params.item.num_flag){case"0":this.formData.num_flag=!1;break;case"1":this.formData.num_flag=!0;break}}else{switch(this.formData.address_flag){case"0":this.formData.address_flag=!1;break;case"1":this.formData.address_flag=!0;break}switch(this.formData.num_flag){case"0":this.formData.num_flag=!1;break;case"1":this.formData.num_flag=!0;break}}},methods:{dataURLtoFile:function(t){var e="weixin",a=t.split(","),i=a[0].match(/:(.*?);/)[1],s=atob(a[1]),o=s.length,r=new Uint8Array(o);while(o--)r[o]=s.charCodeAt(o);return new File([r],e,{type:i})},upload:function(t){var e=t.localData;0!=e.indexOf("data:image")&&(e="data:image/jpeg;base64,"+e),e=e.replace(/\r|\n/g,"").replace("data:image/jgp","data:image/jpeg");var a=this.dataURLtoFile(e),i=window.URL||window.webkitURL||window.mozURL;this.images.push(i.createObjectURL(a)),this.formData.image.push(a),this.formData.image.length>8&&(this.showAdd=!1)},chooseImage:function(t){var e=this;wx.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){var i;if(a.localIds.length+e.images.length<=9)for(i=0;i<a.localIds.length;i++)wx.getLocalImgData({localId:a.localIds[i],success:t});else e.$toast("最多选9张")}})},handleTips:function(){d["MessageBox"].alert("配图","提示")},getlist:function(){var t=this;Object(l["o"])().then((function(e){t.categorylist=e.data.data}))},handleAdd:function(){var t=this;""!=this.addtext?this.categorylist.length+1>5?(this.$toast("您最多可以拥有五个标签"),this.category_id=""):Object(l["a"])({category_name:this.addtext}).then((function(e){1===e.data.success&&(t.$toast("新增标签成功,还可以添加"+(5-t.categorylist.length)+"个"),t.addtext="",t.getlist(),t.innerVisible=!1)})):this.$toast("请输入标签名")},saveData:function(t){document.querySelector(".mint-checkbox-core");!1===t.num_flag?(this.num_error="",this.formData.num=1,this.formData.total=this.formData.price*this.formData.num):this.formData.num=1},changemoney:function(t){console.log(t.price),""===t.price&&(t.price=0),this.formData.price=parseFloat(this.formData.price).toFixed(2),this.formData.total=parseFloat(this.formData.price*this.formData.num).toFixed(2)},handleSave:function(){""!=this.formData.product_name&&""!=this.formData.price&&""!=this.formData.introduction?this.dialogVisible=!0:(this.error="error",!1===this.formData.num_flag&&(this.num_error="error"),this.$toast("请填写必要信息"))},handleClose:function(){this.dialogVisible=!1},handleBack:function(){this.$router.push("/goods"),this.$store.state.formData={product_name:"",price:"",num:1,address_flag:!1,introduction:"",image:[],num_flag:!1,total:0,discount:10,fare:0}},handleShow:function(t,e){this.isShow=!0,this.src=t,this.index=e},handleDel:function(){this.formData.image.splice(this.index,1),this.images.splice(this.index,1),this.formData.image.length<9&&(this.showAdd=!0),this.isShow=!1},handlePhoto:function(){""!=this.formData.product_name&&""!=this.formData.price&&""!=this.formData.introduction?this.$router.push({name:"createqr",params:{item:this.formData,image:this.images,val:this.$route.params.val}}):(this.error="error",!1===this.formData.num_flag&&(this.num_error="error"),this.$toast("请填写必要信息"))},submit:function(){var t=this;if("修改"===this.$route.params.val){switch(this.$route.params.item.address_flag){case!0:this.address_flag="1";break;case!1:this.address_flag="0";break}switch(this.$route.params.item.num_flag){case!0:this.num_flag="1";break;case!1:this.num_flag="0";break}}else{switch(this.formData.address_flag){case!0:this.address_flag="1";break;case!1:this.address_flag="0";break}switch(this.formData.num_flag){case!0:this.num_flag="1";break;case!1:this.num_flag="0";break}}if("新增"===this.$route.params.val){for(var e=new FormData,a=0;a<this.formData.image.length;a++)e.append("img"+a,this.formData.image[a]);e.append("product_name",this.formData.product_name),e.append("value",this.formData.value),e.append("price",this.formData.price),e.append("introduction",this.formData.introduction),e.append("category_id",this.category_id),e.append("address_flag",this.address_flag),e.append("num_flag",this.num_flag),e.append("num",this.formData.num),e.append("total",this.formData.total),e.append("discount",this.formData.discount),e.append("fare",this.formData.fare),Object(l["c"])(e).then((function(e){1===e.data.success&&(t.$router.push("/goods"),t.formData={product_name:"",value:[],price:"",detail:"",image:[]})}))}else{for(var i=new FormData,s=0;s<this.formData.image.length;s++)i.append("img"+s,this.formData.image[s]);i.append("product_name",this.formData.product_name),i.append("value",this.formData.value),i.append("price",this.formData.price),i.append("introduction",this.formData.introduction),i.append("category_id",this.category_id),i.append("product_id",this.formData.product_id),i.append("address_flag",this.address_flag),i.append("num_flag",this.num_flag),i.append("num",this.formData.num),i.append("total",this.formData.total),i.append("discount",this.formData.discount),i.append("fare",this.formData.fare),Object(l["y"])(i).then((function(e){1===e.data.success&&(t.$router.push("/goods"),t.formData={product_name:"",value:[],price:"",detail:"",image:[]})}))}},uploadPhoto:function(t){var e,a=window.URL||window.webkitURL||window.mozURL,i=t.target.files;this.limit+=t.target.files.length,t.target.files.length;var s=this.formData.image.length+t.target.files.length;if(s>9)console.log("最多选九张");else{for(var o=0;o<i.length;++o){var r=i[o];console.log(i[o]),e=a?a.createObjectURL(r):t.target.result;r.src=e,this.formData.image.push(r),this.saveData(this.formData)}this.formData.image.length>8&&(this.showAdd=!1)}}}},y=b,w=(a("af7d"),Object(m["a"])(y,o,r,!1,null,"166ad4bc",null)),D=w.exports,k={components:{updateGoods:D},created:function(){this.$store.state.showTab=!1},beforeDestroy:function(){this.$store.state.showTab=!0}},x=k,C=Object(m["a"])(x,i,s,!1,null,null,null);e["default"]=C.exports},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"91dd":function(t,e,a){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,a,o){e=e||"&",a=a||"=";var r={};if("string"!==typeof t||0===t.length)return r;var n=/\+/g;t=t.split(e);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var h=0;h<c;++h){var d,u,f,m,p=t[h].replace(n,"%20"),g=p.indexOf(a);g>=0?(d=p.substr(0,g),u=p.substr(g+1)):(d=p,u=""),f=decodeURIComponent(d),m=decodeURIComponent(u),i(r,f)?s(r[f])?r[f].push(m):r[f]=[r[f],m]:r[f]=m}return r};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},a1e9:function(t,e,a){},af7d:function(t,e,a){"use strict";var i=a("21be"),s=a.n(i);s.a},b383:function(t,e,a){"use strict";e.decode=e.parse=a("91dd"),e.encode=e.stringify=a("e099")},e099:function(t,e,a){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,a,n){return e=e||"&",a=a||"=",null===t&&(t=void 0),"object"===typeof t?o(r(t),(function(r){var n=encodeURIComponent(i(r))+a;return s(t[r])?o(t[r],(function(t){return n+encodeURIComponent(i(t))})).join(e):n+encodeURIComponent(i(t[r]))})).join(e):n?encodeURIComponent(i(n))+a+encodeURIComponent(i(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var a=[],i=0;i<t.length;i++)a.push(e(t[i],i));return a}var r=Object.keys||function(t){var e=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.push(a);return e}}}]);